# FraudGuard AI

Web-приложение для анализа контента на предмет мошенничества с использованием искусственного интеллекта.

## О проекте

FraudGuard AI - интеллектуальная система для обнаружения и анализа мошеннического контента. Приложение использует ML модель для проверки текстов на наличие признаков фишинга и мошенничества.

### Основные возможности

- Анализ текстов на мошенничество с ML моделью
- Анализ URL через URLhaus API и эвристическую проверку
- Детальная статистика с оценкой рисков и метриками производительности
- История анализов с пагинацией и фильтрацией
- Личный кабинет с управлением профилем
- Безопасная авторизация через JWT токены
- Ролевая модель доступа (RBAC) с 3 уровнями прав

## Технологии

- React 18 + TypeScript
- Vite
- Tailwind CSS
- Axios с автоматическим refresh токенов
- React Router
- Recharts для визуализации данных
- shadcn/ui компоненты

## Установка и запуск

### Требования

- Node.js 18+
- npm или yarn
- FastAPI бэкенд (запущен на http://localhost:8080)

### Шаги

1. Клонировать репозиторий

```bash
git clone https://github.com/lDizil/scam-detection-frontend.git
cd scam-detection-frontend
```

2. Установить зависимости

```bash
npm install
```

3. Настроить переменные окружения

Файл .env уже создан с настройками:

```env
VITE_API_URL=http://localhost:8080/api/v1
```

4. Запустить приложение

```bash
npm run dev
```

Приложение откроется на http://localhost:5173

## Структура проекта

```
src/
├── api/
│   ├── client.ts     # Axios конфигурация с interceptors
│   ├── auth.ts       # Методы авторизации
│   ├── content.ts    # Методы анализа контента
│   ├── admin.ts      # API для администраторов
│   └── moderator.ts  # API для модераторов
├── components/
│   ├── AuthPage.tsx         # Страница авторизации
│   ├── Dashboard.tsx        # Главная панель
│   ├── LandingPage.tsx      # Лендинг
│   ├── ContentAnalyzer.tsx  # Анализатор контента
│   ├── AnalysisHistory.tsx  # История анализов
│   ├── StatsOverview.tsx    # Статистика
│   ├── Profile.tsx          # Профиль пользователя
│   ├── AdminPanel.tsx       # Панель управления пользователями
│   ├── ModeratorPanel.tsx   # Панель модерации
│   ├── ProtectedRoute.tsx   # HOC для защиты маршрутов
│   └── ui/                  # UI компоненты
├── utils/
│   └── roleUtils.ts         # Утилиты для работы с ролями
└── App.tsx           # Главный компонент с роутингом
```

## Авторизация

### Регистрация

- Имя пользователя (обязательно, минимум 3 символа)
- Email (необязательно)
- Пароль (обязательно, минимум 6 символов)

###Система ролей и прав доступа (RBAC)

### Роли

Приложение поддерживает три уровня доступа:

1. **user** - обычный пользователь (роль по умолчанию при регистрации)
2. **moderator** - модератор
3. **admin** - администратор

### Матрица прав доступа

| Функция                   | user | moderator | admin |
| ------------------------- | ---- | --------- | ----- |
| Анализ контента           | +    | +         | +     |
| Своя история проверок     | +    | +         | +     |
| Своя статистика           | +    | +         | +     |
| Просмотр всех проверок    | -    | +         | +     |
| Глобальная статистика     | -    | +         | +     |
| Управление пользователями | -    | -         | +     |
| Изменение ролей           | -    | -         | +     |
| Блокировка пользователей  | -    | -         | +     |

### Защита маршрутов

- Компонент `ProtectedRoute` обеспечивает проверку авторизации и прав доступа
- Заблокированные пользователи автоматически выходят из системы
- UI элементы адаптируются под права текущего пользователя

### API эндпоинты по ролям

**Для администраторов:**

- GET /admin/users - список всех пользователей
- GET /admin/users/:id - информация о пользователе
- PUT /admin/users/:id/role - изменение роли
- PUT /admin/users/:id/status - блокировка/разблокировка

**Для модераторов и администраторов:**

- GET /analysis/all - все проверки всех пользователей
- GET /analysis/global-stats - глобальная статистика

## Вход

- Имя пользователя
- Пароль

JWT токены автоматически сохраняются в HttpOnly cookies и обновляются при необходимости.

## Основные команды

```bash
npm run dev          # Запуск в режиме разработки
npm run build        # Сборка для продакшена
npm run preview      # Предпросмотр production сборки
npm run lint         # Проверка кода ESLint
```

## API Integration

Приложение интегрировано с FastAPI бэкендом через REST API:

### Авторизация

- POST /auth/register - Регистрация
- POST /auth/login - Вход
- POST /auth/logout - Выход
- POST /auth/refresh - Обновление токенов

### Профиль

- GET /profile - Получение профиля
- PUT /profile - Обновление профиля
- DELETE /account - Удаление аккаунта

### Анализ контента

- POST /analysis/text - Анализ одного текста
- POST /analysis/url - Анализ URL (URLhaus + эвристика)
- POST /analysis/batch - Пакетный анализ (до 100 текстов)
- GET /analysis/history - История анализов (пагинация)
- GET /analysis/stats - Агрегированная статистика

Swagger документация: http://localhost:8080/docs

## Возможности UI

- Современный минималистичный дизайн
- Адаптивная верстка
- Плавные анимации и переходы
- Критическая удача и неудача с ярким стилем
- Визуализация данных через круговые диаграммы
- Real-time обновление статистики

## Лицензия

MIT

## Автор

[@lDizil](https://github.com/lDizil)
